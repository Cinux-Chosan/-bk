

<div local-class="surveyBG"></div>
<div local-class="surveyCompMain">
  {{#with activeSurvey as |sv|}}
  <div local-class="surveyHead">
    <h1>
      {{sv.title}}
    </h1>

    <div local-class="surveyBody">
      {{#each sv.items as |svItem svItemIndex|}}
      <div local-class="surveyItem" data-desc={{svItem.desc}}>
        <div local-class="desc">
          {{add 1 svItemIndex}}„ÄÅ{{{svItem.desc}}}
        </div>
        {{#if (eq svItem.type "group")}}
          {{#each svItem.items as |subItem subIndex|}}
            <div local-class="subItem" data-desc={{subItem.desc}}>
            <div local-class="desc">
              {{add 1 svItemIndex}}.{{add 1 subIndex}} {{{subItem.desc}}}
            </div>
            <ul local-class="surveyOpts" class="clearfix">
              {{#each subItem.opts as |opt optIndex|}}
                <li local-class="surveyOpt {{if (gte subItem.opts.length 5) 'largeOpts'}}">
                  <label for={{subItem.desc}}>
                    {{i-check type=subItem.type name=subItem.desc checked=opt.isChecked value=opt.optText elementId=(concat 'i-check' svItem.type subIndex optIndex)}} {{opt.optText}} 
                  </label>
                </li>
              {{/each}}
            </ul>
            </div>
          {{/each}}
        {{else}}
          <ul local-class="surveyOpts" class="clearfix">
            {{#each svItem.opts as |opt optIndex|}}
              <li local-class="surveyOpt {{if (gte svItem.opts.length 5) 'largeOpts'}}">
                <label for={{svItem.desc}}>
                  {{i-check type=svItem.type name=svItem.desc checked=opt.isChecked value=opt.optText elementId=(concat 'i-check' svItem.type svItemIndex optIndex)}} {{opt.optText}}
                </label>
              </li>
            {{/each}}
          </ul>
        {{/if}}
      </div>
      {{/each}}
    </div>
  </div>
  {{/with}}
  <div local-class="surveyFooter">
    <button type="submit" class="btn btn-primary" {{action "submit" }}>submit</button>
  </div>
</div>